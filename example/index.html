<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>FF-HLS</title>
    <link rel="shortcut icon" href="#" />
    <link rel="stylesheet" href="style.css">
    <!-- <link href="https://vjs.zencdn.net/7.6.6/video-js.css" rel="stylesheet" /> -->
    <script src="https://cdn.jsdelivr.net/npm/hls.js@latest"></script>
    <script src="js/metrics.js"></script>
    <script src="js/regular-player.js"></script>
    <!-- <script src="js/hls.js"></script> -->

    <!-- <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.2/jquery.min.js"></script> -->
    <!-- <script src="https://unpkg.com/video.js/dist/video.js"></script> -->
    <!-- <script src="https://cdnjs.cloudflare.com/ajax/libs/video.js/7.0.0/video.min.js"></script> -->
    <!-- <script src="video.min.js"></script> -->
    <!-- <script src="videojs-contrib-hls.min.js"></script> -->
</head>
<body>

<!-- <script type="text/javascript" src="//fast.fonts.net/jsapi/4221a460-4ed2-4039-a07f-d1f4a2739cad.js"></script> -->

<div id="container" class="container">
    <div class="flex-frame">

        <div id="media-container" class="media-container">
            <!-- <video controls [%Autoplay%] preload="auto" id='my-video' class='video-js' width='480' height='270' poster ='[%VideoCover%]'data-setup='{}'> <source src='[%VideoURL%]' type='video/mp4'></video> -->
            <!-- <video class="video-js vjs-theme-city" id=vid1 width=480 height=270 controls data-setup='{}'></video> -->
            <video class='video-style' controls preload="auto" id="regular-player" autoplay playsInline muted src=""></video>
          
        </div>

        <a class="non-media" target="_blank" href="%%CLICK_URL_UNESC%%%%DEST_URL%%">
            <div class="content-container">
                <div class="content-well">
                    <div class="logo">
                        <img onclick="eventTracker.generalEventTrack('clickURL', 'logo', '%%CLICK_URL_UNESC%%%%DEST_URL_UNESC%%')" src="./images/logo.png" />
                    </div>
                    <div class="content-middle-well">
                        <div id="title" class="title">An Adventure Awaits for Everyone</div>
                        <div class="summary">Receive 10% off when you book your next vacation with us.</div>
                        <div onclick="eventTracker.generalEventTrack('clickURL', 'cta', '%%CLICK_URL_UNESC%%%%DEST_URL_UNESC%%')" class="cta">LEARN MORE</div>
                        <div id="disclaimer" class="disclaimer">[%Disclaimer%]</div>
                    </div>
                </div>
            </div>
            <div class="img-container"><img src="./images/hero.png" /></div>
        </a>
    </div>
</div>

<div style="display: none;">[%CustomTracking%]</div>
<div id="impression-pixel" class="impression-tracker"><img src="" width="1" height="1" border="0" /></div>
<div id="impression-pixel-2" class="impression-tracker"><img src="" width="1" height="1" border="0" /></div>


<script type="text/javascript">

    function PixFunction(x) {
        var pixel = x;
        var img = document.createElement("img");
        img.setAttribute("src", pixel);
        img.setAttribute("style", "display:none");
        document.body.appendChild(img);
        console.log("impressions pixel is firing");
    }
    
    initRegularVideoPlayer ({
        hls: "https://vp.nyt.com/video/hls/2020/01/22/20200122164746_1_sir_listings_00114118_wg/master.m3u8",
        mp4: "./video/sample.mp4",
        debug: false,
        trackingFunction: PixFunction,
        autoplay: false
    });

   
    /*
    (function () {
        var mediaContainer = document.getElementById('media-container')
        var tabletContent = mediaContainer.getElementsByClassName('media-content')[0];
        var tabletCTA = mediaContainer.getElementsByClassName('cta')[0];
        var tabletGradient = mediaContainer.getElementsByClassName('gradient')[0];
        var tabletLogo = mediaContainer.getElementsByClassName('logo')[0];
        var isIphone = navigator.userAgent.indexOf('iPhone') >= 0;

        if (isIphone) {} else {
                function status_update(status, data) {
                if ($sf.ext.inViewPercentage() < 50) {
                    revealCover();
                    reset();
                } else {hideCover();}
            }
        }

        function revealCover() {
            tabletContent.classList.remove('hidden');
            tabletCTA.classList.add('hidden');
            tabletGradient.classList.remove('hidden');
            tabletLogo.classList.remove('hidden');
        }

        function hideCover() {
            tabletContent.classList.add('hidden');
            tabletCTA.classList.remove('hidden');
            tabletGradient.classList.add('hidden');
            tabletLogo.classList.remove('hidden');
        }

        function reset() {}

    })();

    */

    /*
    try {
        (function () {
            var toggleGradient = [ % ToggleGradient % ];
            var gradients = [].slice.call(document.getElementsByClassName('gradient'));
            if (toggleGradient > 0) {gradients.forEach(function (el) {el.style.display = 'none';});}
        })();
    }
    catch (Error) {}
   
    try {parent.postMessage({exclusive: [ % Exclusivity % ],type: '[%ExclusivityType%]',div: '%%PATTERN:div%%'}, '*');}catch (Error) {}

    */


</script>



    
</body>
</html>